(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20897,e=>{e.v({main:"page-module___8aEwW__main",page:"page-module___8aEwW__page",primary:"page-module___8aEwW__primary",secondary:"page-module___8aEwW__secondary",section:"page-module___8aEwW__section"})},19613,e=>{"use strict";var t=e.i(43476),i=e.i(71645),d=e.i(20897);function s(){let[e,s]=(0,i.useState)(!1),[l,n]=(0,i.useState)([]),[c,a]=(0,i.useState)(!0),[r,h]=(0,i.useState)(!0),[o,g]=(0,i.useState)({});function u(t){if(!e)return;let i=document.getElementById("log");i.value+=t+"\n"}async function x(){try{let e=await navigator.mediaDevices.getUserMedia({video:!0});e.getTracks().forEach(e=>e.stop());let t=await navigator.mediaDevices.enumerateDevices();n(t);let i={};for(let e of t)"videoinput"===e.kind&&(i[e.deviceId]=await v(e.deviceId));g(i),u(JSON.stringify(e,null,2)),u(JSON.stringify(t,null,2))}catch(e){u("エラー: "+e)}}async function v(e){let t=(await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:e},width:{ideal:3840},height:{ideal:2160}}})).getVideoTracks()[0],i=t.getCapabilities();u(JSON.stringify(i,null,2));let d=t.getSettings();return t.stop(),{settings:d,caps:i}}return(0,i.useEffect)(()=>{x()},[]),(0,t.jsx)("div",{className:d.default.page,children:(0,t.jsxs)("main",{className:d.default.main,children:[(0,t.jsxs)("section",{className:d.default.section,children:[(0,t.jsx)("h1",{children:"カメラ"}),(0,t.jsx)("p",{children:"カメラのデバイス情報を取得するツール"}),(0,t.jsx)("input",{type:"button",value:"再試行",id:"retry",onClick:e=>{x()}}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("label",{htmlFor:"viewDeviceId",children:"デバイスID"}),(0,t.jsx)("input",{type:"checkbox",id:"viewDeviceId",checked:c,onChange:e=>{a(e.target.checked)}}),(0,t.jsx)("label",{htmlFor:"viewGroupId",children:"グループID"}),(0,t.jsx)("input",{type:"checkbox",id:"viewGroupId",checked:r,onChange:e=>{h(e.target.checked)}}),(0,t.jsx)("br",{}),(0,t.jsx)("div",{style:{overflowX:"scroll"},children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{textAlign:"left"},children:"ラベル"}),(0,t.jsx)("th",{children:"向き"}),(0,t.jsx)("th",{children:"画角"}),(0,t.jsx)("th",{children:"解像度"}),(0,t.jsx)("th",{children:"横/縦"}),c&&(0,t.jsx)("th",{style:{textAlign:"left"},children:"デバイスID"}),r&&(0,t.jsx)("th",{style:{textAlign:"left"},children:"グループID"})]})}),(0,t.jsx)("tbody",{children:l.map((e,i)=>{var d;return"videoinput"!==e.kind?null:(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.label||"(ラベルなし)"}),(0,t.jsx)("td",{children:(d=o[e.deviceId]?.settings,d?.facingMode?"user"===d.facingMode?"フロント":"environment"===d.facingMode?"バック":"不明":"不明")}),(0,t.jsx)("td",{children:function(e,t){if(t?.zoom?.min<1)return"超広角";let i=0;return e?.width&&(e.width&&e.width<3e3&&(i+=1),t?.focusDistance?.min===0&&(i+=1),e.width&&e.height&&e.width/e.height>1.5&&(i+=1),i>=2)?"広角の可能性: "+i:"標準/不明"}(o[e.deviceId]?.settings,o[e.deviceId]?.caps)}),(0,t.jsxs)("td",{children:[o[e.deviceId]?.settings.width,"x",o[e.deviceId]?.settings.height]}),(0,t.jsx)("td",{children:o[e.deviceId]?.settings.width&&o[e.deviceId]?.settings.height?(o[e.deviceId].settings.width/o[e.deviceId].settings.height).toFixed(2):"不明"}),c&&(0,t.jsx)("td",{style:{wordBreak:"break-all"},children:e.deviceId}),r&&(0,t.jsx)("td",{style:{wordBreak:"break-all"},children:e.groupId})]},i)})})]})})]}),(0,t.jsxs)("section",{className:d.default.section,children:[(0,t.jsx)("h1",{children:"ログ"}),(0,t.jsx)("textarea",{id:"log",placeholder:"...",style:{width:"100%"},rows:4,disabled:!0}),(0,t.jsx)("input",{type:"checkbox",id:"enableLog",checked:e,onChange:e=>{s(e.target.checked)}}),(0,t.jsx)("label",{htmlFor:"enableLog",children:"ログを有効にする"})]})]})})}e.s(["default",()=>s])}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20897,e=>{e.v({main:"page-module___8aEwW__main",page:"page-module___8aEwW__page",primary:"page-module___8aEwW__primary",secondary:"page-module___8aEwW__secondary",section:"page-module___8aEwW__section"})},65693,e=>{e.v({apiInput:"curl-module__PwMQja__apiInput",apiManagement:"curl-module__PwMQja__apiManagement",apiSelect:"curl-module__PwMQja__apiSelect",button:"curl-module__PwMQja__button",container:"curl-module__PwMQja__container",error:"curl-module__PwMQja__error",fullWidth:"curl-module__PwMQja__fullWidth",grid:"curl-module__PwMQja__grid",input:"curl-module__PwMQja__input",label:"curl-module__PwMQja__label",responseActions:"curl-module__PwMQja__responseActions",responseBox:"curl-module__PwMQja__responseBox",responseSection:"curl-module__PwMQja__responseSection",secondary:"curl-module__PwMQja__secondary",select:"curl-module__PwMQja__select",textarea:"curl-module__PwMQja__textarea",wideMain:"curl-module__PwMQja__wideMain"})},50540,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(20897),s=e.i(65693);let r="curl-tool";function n(){let[e,n]=(0,a.useState)(""),[i,u]=(0,a.useState)("GET"),[d,o]=(0,a.useState)("Content-Type: application/json"),[c,m]=(0,a.useState)(""),[p,h]=(0,a.useState)("curl/1.0"),[_,f]=(0,a.useState)(""),[j,x]=(0,a.useState)(!1),[g,N]=(0,a.useState)(""),[b,y]=(0,a.useState)([]),[v,S]=(0,a.useState)(""),[$,w]=(0,a.useState)("デフォルト"),[P,M]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=localStorage.getItem(r);if(e)try{y(JSON.parse(e));return}catch(e){console.error("Failed to parse API groups from localStorage",e)}},[]);let C=e=>{localStorage.setItem(r,JSON.stringify(e))},E=async t=>{t.preventDefault(),x(!0),N(""),f("");let a=new Headers;d.split("\n").forEach(e=>{let[t,...l]=e.split(":");t&&l.length>0&&a.append(t.trim(),l.join(":").trim())}),a.set("User-Agent",p);try{let t=await fetch(e,{method:i,headers:a,body:"GET"!==i&&"HEAD"!==i?c:void 0}),l=await t.text();f(l)}catch(e){N(`リクエストエラー: ${e.message}`)}finally{x(!1)}};return(0,t.jsx)("div",{className:l.default.page,children:(0,t.jsx)("main",{className:`${l.default.main} ${s.default.wideMain}`,children:(0,t.jsxs)("div",{className:s.default.container,children:[(0,t.jsx)("h1",{children:"HTTPリクエスト"}),(0,t.jsx)("p",{children:"ウェブ上でHTTPリクエストを行い、APIのデバッグや動作確認ができるツール"}),(0,t.jsxs)("section",{className:l.default.section,children:[(0,t.jsx)("h2",{children:"管理"}),(0,t.jsxs)("div",{className:s.default.apiManagement,children:[(0,t.jsxs)("select",{className:`${s.default.select} ${s.default.apiSelect}`,value:v,onChange:e=>S(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"保存済みのリクエストを選択..."}),b.map(e=>(0,t.jsx)("optgroup",{label:e.groupName,children:e.requests.map(a=>(0,t.jsx)("option",{value:`${e.groupName}::${a.requestName}`,children:a.requestName},`${e.groupName}::${a.requestName}`))},e.groupName))]}),(0,t.jsx)("button",{className:`${s.default.button} ${s.default.secondary}`,onClick:()=>{if(!v)return;let[e,t]=v.split("::"),a=b.find(t=>t.groupName===e),l=a?.requests.find(e=>e.requestName===t);l&&(n(l.url),u(l.method),o(l.headers),m(l.body),h(l.userAgent),w(e),M(t))},disabled:!v,children:"読み込み"}),(0,t.jsx)("button",{className:`${s.default.button} ${s.default.secondary}`,onClick:()=>{if(!v||!confirm(`リクエスト「${v.replace("::"," > ")}」を本当に削除しますか？`))return;let[e,t]=v.split("::"),a=[...b],l=a.find(t=>t.groupName===e);l&&(l.requests=l.requests.filter(e=>e.requestName!==t),0===l.requests.length&&(a=a.filter(t=>t.groupName!==e)),y(a),C(a),S(""))},disabled:!v,children:"削除"})]}),(0,t.jsxs)("div",{className:s.default.apiManagement,children:[(0,t.jsx)("button",{className:`${s.default.button} ${s.default.secondary}`,onClick:()=>{let e=localStorage.getItem(r);if(!e)return void alert("エクスポートするデータがありません。");try{let t=JSON.stringify(JSON.parse(e),null,2),a=new Blob([t],{type:"application/json"}),l=URL.createObjectURL(a),s=document.createElement("a");s.href=l;let r=new Date,n=`${r.getFullYear()}${(r.getMonth()+1).toString().padStart(2,"0")}${r.getDate().toString().padStart(2,"0")}`;s.download=`curl-tool-${n}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(l)}catch(e){console.error("エクスポートに失敗しました。",e),alert("エクスポートに失敗しました。")}},children:"エクスポート"}),(0,t.jsx)("button",{className:`${s.default.button} ${s.default.secondary}`,onClick:()=>document.getElementById("import-input")?.click(),children:"インポート"}),(0,t.jsx)("input",{type:"file",id:"import-input",style:{display:"none"},accept:".json",onChange:e=>{let t=e.target.files?.[0];if(!t)return;if(!confirm("現在の設定は上書きされます。よろしいですか？")){e.target.value="";return}let a=new FileReader;a.onload=t=>{let a=t.target?.result;if("string"==typeof a)try{let e=JSON.parse(a);if(Array.isArray(e))y(e),C(e),alert("インポートに成功しました。");else throw Error("無効なファイル形式です。")}catch(e){console.error("インポートエラー",e),alert(`インポートに失敗しました: ${e instanceof Error?e.message:"不明なエラー"}`)}finally{e.target.value=""}},a.readAsText(t)}})]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{className:s.default.apiManagement,children:[(0,t.jsx)("input",{type:"text",className:`${s.default.input} ${s.default.apiInput}`,placeholder:"グループ名 (例: User API)",value:$,onChange:e=>w(e.target.value)}),(0,t.jsx)("input",{type:"text",className:`${s.default.input} ${s.default.apiInput}`,placeholder:"リクエスト名 (例: users)",value:P,onChange:e=>M(e.target.value)}),(0,t.jsx)("button",{className:s.default.button,onClick:()=>{if(!$||!P)return void alert("グループ名とリクエスト名を入力してください。");let t={requestName:P,url:e,method:i,headers:d,body:c,userAgent:p},a=[...b],l=a.find(e=>e.groupName===$);if(l){let e=l.requests.findIndex(e=>e.requestName===P);e>-1?l.requests[e]=t:l.requests.push(t)}else l={groupName:$,requests:[t]},a.push(l);y(a),C(a),alert(`グループ「${$}」にリクエスト「${P}」を保存しました。`)},children:"保存"})]})]}),(0,t.jsx)("form",{onSubmit:E,children:(0,t.jsxs)("section",{className:l.default.section,children:[(0,t.jsx)("h2",{children:"リクエスト"}),(0,t.jsxs)("div",{className:s.default.grid,children:[(0,t.jsxs)("div",{className:s.default.fullWidth,children:[(0,t.jsx)("label",{className:s.default.label,htmlFor:"url",children:"URL"}),(0,t.jsx)("input",{id:"url",type:"text",className:s.default.input,value:e,onChange:e=>n(e.target.value),placeholder:"https://api.example.com/data",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:s.default.label,htmlFor:"method",children:"メソッド"}),(0,t.jsxs)("select",{id:"method",className:s.default.select,value:i,onChange:e=>u(e.target.value),children:[(0,t.jsx)("option",{children:"GET"}),(0,t.jsx)("option",{children:"POST"}),(0,t.jsx)("option",{children:"PUT"}),(0,t.jsx)("option",{children:"DELETE"}),(0,t.jsx)("option",{children:"PATCH"}),(0,t.jsx)("option",{children:"HEAD"}),(0,t.jsx)("option",{children:"OPTIONS"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:s.default.label,htmlFor:"user-agent",children:"User-Agent"}),(0,t.jsx)("input",{id:"user-agent",type:"text",className:s.default.input,value:p,onChange:e=>h(e.target.value)})]}),(0,t.jsxs)("div",{className:s.default.fullWidth,children:[(0,t.jsx)("label",{className:s.default.label,htmlFor:"headers",children:"ヘッダ (1行ずつ)"}),(0,t.jsx)("textarea",{id:"headers",className:s.default.textarea,value:d,onChange:e=>o(e.target.value)})]}),(0,t.jsxs)("div",{className:s.default.fullWidth,children:[(0,t.jsx)("label",{className:s.default.label,htmlFor:"body",children:"ボディ"}),(0,t.jsx)("textarea",{id:"body",className:s.default.textarea,value:c,onChange:e=>m(e.target.value),disabled:"GET"===i||"HEAD"===i})]})]}),(0,t.jsx)("button",{type:"submit",className:s.default.button,disabled:j,children:j?"送信中...":"送信"})]})}),g&&(0,t.jsx)("p",{className:s.default.error,children:g}),(0,t.jsxs)("section",{className:`${l.default.section} ${s.default.responseSection}`,children:[(0,t.jsx)("h2",{children:"レスポンス"}),(0,t.jsx)("pre",{className:s.default.responseBox,children:(0,t.jsx)("code",{children:_||""})}),(0,t.jsxs)("div",{className:s.default.responseActions,children:[(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(_).then(()=>alert("レスポンスをクリップボードにコピーしました。"),()=>alert("コピーに失敗しました。"))},className:`${s.default.button} ${s.default.secondary}`,disabled:!_,children:"コピー"}),(0,t.jsx)("button",{onClick:()=>{try{let e=JSON.parse(_);f(JSON.stringify(e,null,2))}catch(e){alert("有効なJSONではありません。")}},className:`${s.default.button} ${s.default.secondary}`,disabled:!_,children:"整形"})]})]})]})})})}e.s(["default",()=>n])}]);
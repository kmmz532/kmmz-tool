(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20897,e=>{e.v({main:"page-module___8aEwW__main",page:"page-module___8aEwW__page",primary:"page-module___8aEwW__primary",secondary:"page-module___8aEwW__secondary",section:"page-module___8aEwW__section"})},5879,e=>{e.v({})},42498,e=>{"use strict";var t=e.i(43476),n=e.i(71645),a=e.i(20897),l=e.i(5879);function i(){let[e,i]=(0,n.useState)(!0),[s,o]=(0,n.useState)(0),[r,c]=(0,n.useState)(0),[d,m]=(0,n.useState)(0),[u,p]=(0,n.useState)(0),[h,g]=(0,n.useState)([]),[x,f]=(0,n.useState)("game"),[j,v]=(0,n.useState)("");function S(e,t){h.find(t=>t.name===e)?g(h.map(n=>n.name===e?{name:e,count:n.count+t}:n)):g([...h,{name:e,count:t}])}function _(e){return h.find(t=>t.name===e)?.count||0}return(0,n.useEffect)(()=>{!function(t){if(!e)return;let n=document.getElementById("log");n.value+=t+"\n"}(j)},[j]),(0,n.useEffect)(()=>{let e=localStorage.getItem("mining-game-money"),t=localStorage.getItem("mining-game-energy"),n=localStorage.getItem("mining-game-level"),a=localStorage.getItem("mining-game-days"),l=localStorage.getItem("mining-game-items");o(e?parseInt(e):0),c(t?parseInt(t):5),m(n?parseInt(n):1),p(a?parseInt(a):1),g(l?JSON.parse(l):[])},[]),(0,n.useEffect)(()=>{localStorage.setItem("mining-game-money",s.toString()),localStorage.setItem("mining-game-energy",r.toString()),localStorage.setItem("mining-game-level",d.toString()),localStorage.setItem("mining-game-days",u.toString()),localStorage.setItem("mining-game-items",JSON.stringify(h))},[s,r,d,u,h]),(0,t.jsx)("div",{className:a.default.page,children:(0,t.jsxs)("main",{className:a.default.main,children:[(0,t.jsxs)("section",{className:a.default.section,children:[(0,t.jsx)("h1",{children:"マイニングゲーム"}),(0,t.jsx)("span",{className:l.default.msg,children:j?(0,t.jsxs)(t.Fragment,{children:[j," ",(0,t.jsx)("br",{}),(0,t.jsx)("hr",{})]}):""}),(0,t.jsxs)("div",{className:l.default.status,children:[u,"日目",(0,t.jsx)("br",{}),"   ステータス - [お金: ",s,", エネルギー: ",r,", レベル: ",d,"]",(0,t.jsx)("br",{}),"   　アイテム - [",h.map(e=>(0,t.jsxs)("span",{children:[e.name,": ",e.count,", "]},e.name)),"]"]}),(0,t.jsx)("hr",{}),"game"===x&&(0,t.jsxs)("div",{className:l.default.panel,children:[(0,t.jsx)("input",{type:"button",value:"採掘する",id:"mine",onClick:e=>{if(e.preventDefault(),r<1)return void v("エネルギーが足りません。");c(r-1);let t=Math.floor(100*Math.random());if(t>=0&&t<30){let e=Math.floor(15*Math.random())+1;S("石",e),v("採掘して「石」を"+e+"コ、獲得しました！")}else if(t>=30&&t<50){let e=Math.floor(10*Math.random())+1;S("鉄",e),v("採掘して「鉄」を"+e+"コ、獲得しました！")}else if(t>=50&&t<70){let e=Math.floor(10*Math.random())+1;S("銅",e),v("採掘して「銅」を"+e+"コ、獲得しました！")}else if(t>=70&&t<90){let e=Math.floor(8*Math.random())+1;S("銀",e),v("採掘して「銀」を"+e+"コ、獲得しました！")}else if(t>=90&&t<95){let e=Math.floor(7*Math.random())+1;S("金",e),v("採掘して「金」を"+e+"コ、獲得しました！")}else if(t>=95&&t<100){let e=Math.floor(5*Math.random())+1;S("ダイヤモンド",e),v("採掘して「ダイヤモンド」を"+e+"コ、獲得しました！")}p(u+1)}})," ",(0,t.jsx)("input",{type:"button",value:"ショップへ",id:"shop",onClick:e=>{e.preventDefault(),f("shop")}})," ",(0,t.jsx)("input",{type:"button",value:"次の日へ",id:"next",onClick:e=>{e.preventDefault(),p(u+1),c(r+1),v("何もせず、次の日に進みました。")}})]}),"shop"===x&&(0,t.jsxs)("div",{className:l.default.panel,children:[(0,t.jsx)("input",{type:"button",value:"戻る",id:"back",onClick:e=>{e.preventDefault(),f("game")}}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("h2",{children:"ショップ"}),(0,t.jsx)("select",{id:"shop-sell-item",children:h.map(e=>(0,t.jsx)("option",{children:e.name},e.name))})," ",(0,t.jsxs)("select",{id:"shop-sell-count",children:[(0,t.jsx)("option",{children:"1"}),(0,t.jsx)("option",{children:"2"}),(0,t.jsx)("option",{children:"3"}),(0,t.jsx)("option",{children:"4"}),(0,t.jsx)("option",{children:"5"}),(0,t.jsx)("option",{children:"6"}),(0,t.jsx)("option",{children:"7"}),(0,t.jsx)("option",{children:"8"}),(0,t.jsx)("option",{children:"9"}),(0,t.jsx)("option",{children:"10"}),(0,t.jsx)("option",{children:"11"}),(0,t.jsx)("option",{children:"12"}),(0,t.jsx)("option",{children:"13"}),(0,t.jsx)("option",{children:"14"}),(0,t.jsx)("option",{children:"15"}),(0,t.jsx)("option",{children:"16"})]})," ",(0,t.jsx)("input",{type:"button",value:"売却",id:"sell",onClick:e=>{var t,n,a,l;e.preventDefault();let i=document.getElementById("shop-sell-item"),r=document.getElementById("shop-sell-count");if(t=i.value,void 0!==h.find(e=>e.name===t))if(_(i.value)<parseInt(r.value))v("数が足りないため、売却できません。");else{if(o(s+100*parseInt(r.value)),_(i.value)===parseInt(r.value))n=i.value,g(h.filter(e=>e.name!==n));else{a=i.value,l=parseInt(r.value),h.find(e=>e.name===a)&&g(h.map(e=>e.name===a?{name:a,count:e.count-l}:e))}v(i.value+"を"+r.value+"コ、売却して"+100*parseInt(r.value)+"円、獲得しました！")}}})]})]}),(0,t.jsxs)("section",{className:a.default.section,children:[(0,t.jsx)("h1",{children:"ログ"}),(0,t.jsx)("textarea",{id:"log",placeholder:"...",style:{width:"100%"},rows:4,disabled:!0}),(0,t.jsx)("input",{type:"checkbox",id:"enableLog",checked:e,onChange:e=>{i(e.target.checked)}}),(0,t.jsx)("label",{htmlFor:"enableLog",children:"ログを有効にする"})]})]})})}e.s(["default",()=>i])}]);